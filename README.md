# mesto-react

В этом проекте я отрабатывала навыки по теме 
**React: регистрация и авторизация**

### Задачи проектной работы 12:
1. Создайте нужные роуты и опишите перенаправления
Вся функциональность приложения будет доступна только авторизованным пользователям по роуту /, поэтому реализуйте два дополнительных роута для неавторизованных пользователей:
/sign-up — для регистрации пользователя;
/sign-in — для авторизации пользователя.
Если неавторизованный пользователь приходит на сайт, он должен попадать на страницу входа, на какой бы роут он ни пришёл.
2. Сверстайте необходимые компоненты
Вспомните JSX и CSS, и реализуйте интерфейс по этому дизайну:
https://www.figma.com/file/5H3gsn5lIGPwzBPby9jAOo/Sprint-14-RU?node-id=0%3A1.
Для реализации понадобятся такие компоненты: 
Login — компонент авторизации пользователя с необходимыми стейт-переменными.
Register — компонент регистрации пользователя с необходимыми стейт-переменными.
HOC ProtectedRoute — этим компонентом защитите роут /, чтобы на него не смогли перейти неавторизованные пользователи
InfoTooltip — компонент модального окна,который информирует пользователя об успешной (или не очень) регистрации.
Мобильные версии — дополнительное задание. Оно поможет вспомнить вёрстку. Если будет время, потренируйтесь.
На что стоит обратить внимание:
Шапка для авторизованного и неавторизованного пользователя должна отличаться.
Используйте разметку из компонентов формы и модальных окон для реализации InfoTooltip, Login, Register.
В этой работе нужно реализовать регистрацию и авторизацию. Для этого придётся расширить некоторые компоненты, которые вы использовали при выполнении работ предыдущих спринтов.
3. Подключите основную функциональность сайта к нашему бэкенду
По итогам этого спринта стало понятнее, что происходит на бэкенде. Здесь мы пока будем использовать наш бэкенд, а в следующем спринте вы научитесь создавать его самостоятельно. 
Базовый URL: https://auth.nomoreparties.co.
Список эндпоинтов:
/ — любой URL, кроме /signup и /signin защищены авторизацией.
/signup — регистрация пользователя.
/signin — авторизация пользователя.
Другие эндпоинты из предыдущих проектных работ Mesto по-прежнему работают. Не перенастраивайте их, пусть основная функциональность сервиса работает с другого API. В следующем спринте мы объединим всё в единое целое. Для аутентификации можете создать отдельный модуль со всеми нужными методами.
4. Реализуйте аутентификацию пользователя
Базовый URL: https://auth.nomoreparties.co.
Параметры запроса для регистрации в нашем сервисе:
Эндпоинт: /signup
Метод: POST
Заголовки: 
"Content-Type": "application/json" 
Тело запроса:
"password": "somepassword",
"email": "email@yandex.ru" 
Успешный ответ:
{
    "data": {
        "_id": "5f5204c577488bcaa8b7bdf2",,
        "email": "email@yandex.ru"
    }
} 
Коды ошибок:
400 - некорректно заполнено одно из полей 
Параметры запроса для авторизации в нашем сервисе:
Эндпоинт: /signin
Метод: POST
Заголовки: 
"Content-Type": "application/json" 
Тело запроса:
{
    "password": "dsfsdfsdfsdf",
    "email": "email@email.ru"
} 
Пример успешного ответа:
{
    "token" : "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1ZjUxNDhlNWJiODhmZGNhOTIxYjZhYzciLCJpYXQiOjE1OTkyMTExNzN9.Q3DVLh7t0f0BjyG9gh3UlUREYQxl2chdGTGy701lF6I"
} 
Коды ошибок:
400 - не передано одно из полей 
401 - пользователь с email не найден 
Параметры запроса для проверки валидности токена и получения email для вставки в шапку сайта:
Эндпоинт: /users/me
Метод:  GET
Заголовки:
{
    "Content-Type": "application/json",
    "Authorization" : `Bearer ${ВАШ JWT}`
} 
Пример успешного ответа:
{
    "_id":"1f525cf06e02630312f3fed7",
    "email":"email@email.ru"
} 
Коды ошибок:
# Если токен не передан или передан без Bearer
400 — Токен не передан или передан не в том формате

# Если передан некорректный токен
401 — Переданный токен некорректен 

5. Реализуйте работу с локальным хранилищем и токеном
Настройте работу с localStorage так, чтобы токен сохранялся в нём и использовался при работе с сайтом. При повторном визите пользователи не должны вновь авторизовываться.
Проверяйте корректность токена через запрос на эндпоинт /users/me.

**Заключение**
Вы завершили курс по «Реакту». В результате у вас получилось приложение с авторизацией и регистрацией пользователя. Оно взаимодействует сразу с двумя API: авторизации и API редактирования пользователя и получения карточек. 
Теперь пора заглянуть за кулисы и узнать, как работает сервер и как происходит взаимодействие с ним. Впереди вас ждёт курс про бэкенд-разработку, где вы познакомитесь с NodeJS и фреймворком Express.